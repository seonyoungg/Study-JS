<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Javascript Lab</title>
<script src="../js/mylib.js"></script>
<script>
	window.onload = function(){
		// 문서내의 모든 버튼을 클릭했을때 
		// 각각 "btn-0 클릭", "btn-1 클릭", "btn-2 클릭" 
		// ... "btn-n 클릭"을 콘솔에 출력하시오.
		const btns = document.querySelectorAll('button');
		// IIFE pattern
		
			// 	// 즉시실행함수가 없으면 i는 모두 3으로 출력
			//  // var가 함수단위스코프이기 때문에	

			for(var i=0; i<btns.length; i++){
				((i)=>{
					//i은 closure : 함수안에함수, 내부함수가 외부변수를참조
					btns[i].addEventListener('click', function(){
						console.log(`btn-${i} 클릭`);
					});
				})(i)
			}

			//  ECMA5 foreach
			// Array.prototype.forEach 배열의 각 요소를 순회하면서 지정한 콜백 함수를 실행
			btns.forEach(function(btn, i){
				btn.addEventListener('click',function(){
					console.log(`btn-${i} 클릭`);
				})
			})

			//  ECMA6 foreach
			// let
			for(let i=0; i<btns.length; i++){
				btns[i].addEventListener('click', function(){
					console.log(`btn-${i} 클릭`);
				});
			}

	};
</script>
</head>
<body>
	<h1>즉시 실행 함수</h1>
  <button>버튼</button>
  <button>버튼</button>
  <button>버튼</button>
</body>
</html>